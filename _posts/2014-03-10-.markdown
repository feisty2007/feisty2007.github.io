---
layout: post
title:	""
date:	 +0800 
categories:	ç³»ç»Ÿè¿ç»´ linuxcn 
tags:	[linuxcn,]
---

—¥å­</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>@æœ‰é“äº‘ç¬”è®°æ”¶è—<br
    /><font size="2" color="#999999">â€”â€” 2014-3-13 13:02</font></blockquote></div>
  postip: 221.238.209.147
  username: å¾®åšè¯„è®º
- date: '2014-03-13 13:33:13'
  message: <div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/2484557133" target="_blank" class="gj_safe_a" ><img src="http://tp2.sinaimg.cn/2484557133/50/5689395527/1"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/2484557133/AAM8HETLB" target="_blank" class="gj_safe_a
    vm">æœ±æµ·æ˜Ed</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>//@å”æ–¹æˆ:è½¬å‘å¾®åš<br
    /><font size="2" color="#999999">â€”â€” 2014-3-13 13:10</font></blockquote></div>
  postip: 221.238.209.147
  username: å¾®åšè¯„è®º
- date: '2014-03-13 13:33:13'
  message: <div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/1134726364" target="_blank" class="gj_safe_a" ><img src="http://tp1.sinaimg.cn/1134726364/50/40025100921/1"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/1134726364/AAM9By5Aa" target="_blank" class="gj_safe_a
    vm">æµæ°´è«é‰´</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>Repost<br
    /><font size="2" color="#999999">â€”â€” 2014-3-13 13:12</font></blockquote></div>
  postip: 221.238.209.147
  username: å¾®åšè¯„è®º
- date: '2014-03-13 20:59:12'
  message: <div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/3607093291" target="_blank" class="gj_safe_a" ><img src="http://tp4.sinaimg.cn/3607093291/50/5683868815/1"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/3607093291/AAMNLmBG3" target="_blank" class="gj_safe_a
    vm">tiger-sniffs-the-rose</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>è½¬å‘å¾®åš<br
    /><font size="2" color="#999999">â€”â€” 2014-3-13 14:51</font></blockquote></div>
  postip: 219.154.226.211
  username: å¾®åšè¯„è®º
- date: '2014-03-13 20:59:12'
  message: <div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/3209931230" target="_blank" class="gj_safe_a" ><img src="http://tp3.sinaimg.cn/3209931230/50/0/1"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/3209931230/AAOiQjEXE" target="_blank" class="gj_safe_a
    vm">éƒ‘QG</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>è½¬å‘å¾®åš<br
    /><font size="2" color="#999999">â€”â€” 2014-3-13 18:40</font></blockquote></div>
  postip: 219.154.226.211
  username: å¾®åšè¯„è®º
- date: '2014-03-14 14:03:46'
  message: '<div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/2919278332" target="_blank" class="gj_safe_a" ><img src="http://tp1.sinaimg.cn/2919278332/50/0/0"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/2919278332/AAUV3jSle" target="_blank" class="gj_safe_a
    vm">07çº§ç«¥é‹å’Œæ€¡1995</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>//@æœ±æµ·æ˜Ed:
    //@å”æ–¹æˆ:è½¬å‘å¾®åš<br /><font size="2" color="#999999">â€”â€” 2014-3-14 11:31</font></blockquote></div>'
  postip: 220.160.90.233
  username: å¾®åšè¯„è®º
- date: '2014-03-14 14:03:46'
  message: <div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/3094153687" target="_blank" class="gj_safe_a" ><img src="http://tp4.sinaimg.cn/3094153687/50/5675489363/1"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/3094153687/AAVyvoJUh" target="_blank" class="gj_safe_a
    vm">ThomasTsang11</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>è½¬å‘å¾®åš<br
    /><font size="2" color="#999999">â€”â€” 2014-3-14 13:08</font></blockquote></div>
  postip: 220.160.90.233
  username: å¾®åšè¯„è®º
- date: '2014-03-14 14:03:46'
  message: <div style="float:left;margin-top:5px;margin-right:12px;text-align:center"><a
    href="http://weibo.com/u/2608298741" target="_blank" class="gj_safe_a" ><img src="http://tp2.sinaimg.cn/2608298741/50/22837283142/1"
    style="width:50px;height:50px" /></a></div><div><img src="https://dn-linuxcn.qbox.me/xwb/images/bgimg/icon_logo.png"
    class="vm" /><a href="http://weibo.com/u/2608298741" target="_blank" class="gj_safe_a
    vm">AspxSpy</a>ï¼š</div><div class="quote" style="margin-top:5px"><blockquote>@æˆ‘çš„å°è±¡ç¬”è®°<br
    /><font size="2" color="#999999">â€”â€” 2014-3-14 13:40</font></blockquote></div>
  postip: 220.160.90.233
  username: å¾®åšè¯„è®º
count:
  commentnum: 16
  favtimes: 5
  likes: 0
  sharetimes: 0
  viewnum: 18805
date: '2014-03-13 10:29:00'
editorchoice: false
excerpt: Linux å’Œ Unix å±äºå¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªç³»ç»Ÿåœ¨åŒä¸€æ—¶é—´æ®µå†…èƒ½è¿è¡Œå¤šé‡ä»»åŠ¡(è¿›ç¨‹)ã€‚åœ¨è¿™ä¸ªæ–°çš„åšå®¢ç³»åˆ—ï¼Œæˆ‘å°†ä¼šåˆ—å‡ºç›¸å…³çš„ Linux
  å’Œ Unix ä½œä¸šï¼ˆjobï¼‰æ§åˆ¶çš„å‘½ä»¤ï¼Œä½ å¯ä»¥é€šè¿‡è¿™äº›å‘½ä»¤åœ¨ Bash æˆ– Korn è¿˜æœ‰ ...
fromurl: ''
id: 2680
islctt: true
largepic: /Asserts/Images/album/201403/13/102928m2z2n364a66vua66.jpg
permalink: /article-2680-1.html
pic: /Asserts/Images/album/201403/13/102928m2z2n364a66vua66.jpg.thumb.jpg
related: []
reviewer: ''
selector: ''
summary: Linux å’Œ Unix å±äºå¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªç³»ç»Ÿåœ¨åŒä¸€æ—¶é—´æ®µå†…èƒ½è¿è¡Œå¤šé‡ä»»åŠ¡(è¿›ç¨‹)ã€‚åœ¨è¿™ä¸ªæ–°çš„åšå®¢ç³»åˆ—ï¼Œæˆ‘å°†ä¼šåˆ—å‡ºç›¸å…³çš„ Linux
  å’Œ Unix ä½œä¸šï¼ˆjobï¼‰æ§åˆ¶çš„å‘½ä»¤ï¼Œä½ å¯ä»¥é€šè¿‡è¿™äº›å‘½ä»¤åœ¨ Bash æˆ– Korn è¿˜æœ‰ ...
tags:
- Linux
- Unix
- Bash
- KSH
- POSIX
- shell
- ä½œä¸šæ§åˆ¶
thumb: false
title: 10ä¸ª Linux/Unixä¸‹ Bash å’Œ KSH shell çš„ä½œä¸šæ§åˆ¶å®ä¾‹
titlepic: false
translator: Luoxcat
updated: '2014-03-13 10:29:00'
---

![](/Asserts/Images/album/201403/13/102928m2z2n364a66vua66.jpg)


Linux å’Œ Unix å±äºå¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªç³»ç»Ÿåœ¨åŒä¸€æ—¶é—´æ®µå†…èƒ½è¿è¡Œå¤šé‡ä»»åŠ¡(è¿›ç¨‹)ã€‚åœ¨è¿™ä¸ªæ–°çš„åšå®¢ç³»åˆ—ï¼Œæˆ‘å°†ä¼šåˆ—å‡ºç›¸å…³çš„ Linux å’Œ Unix ä½œä¸šï¼ˆjobï¼‰æ§åˆ¶çš„å‘½ä»¤ï¼Œä½ å¯ä»¥é€šè¿‡è¿™äº›å‘½ä»¤åœ¨ Bash æˆ– Korn è¿˜æœ‰ POSIX shell ä¸‹å®ç°æ‰§è¡Œå¤šé‡ä»»åŠ¡ã€‚


### ä»€ä¹ˆæ˜¯ä½œä¸šæ§åˆ¶ï¼Ÿ


ä½œä¸šæ§åˆ¶ä¸åªæ˜¯èƒ½å¤Ÿåœæ­¢/æŒ‚èµ·(stop/suspend)æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹(å‘½ä»¤)ï¼Œä¹Ÿå¯ä»¥ç»§ç»­/å”¤é†’(continue/resume)æ‰§è¡Œä½ éœ€è¦çš„æ¯ä¸€ä¸ªè¿›ç¨‹ã€‚è¿™å®Œå…¨å¯ä»¥ç”¨ä½ çš„æ“ä½œç³»ç»Ÿå’Œ bash/ksh ä¹‹ç±»çš„ shell æˆ– POSIX shell å®Œæˆã€‚


### è°ç»™ä½œä¸šæ§åˆ¶çš„æä¾›äº†ç¯å¢ƒï¼Ÿ


Bash / Korn shellï¼Œæˆ–è€…æ˜¯ POSIX shell æä¾›ç»™äº†ä½œä¸šæ§åˆ¶çš„ç¯å¢ƒã€‚


### è·Ÿä½œä¸šè¡¨æ‰“ä¸ªæ‹›å‘¼å§


ä½ çš„ shell ä¼šç•™æœ‰ä¸€å¼ å½“å‰ä½œä¸šçš„è¡¨å•ï¼Œç§°ä¸ºä½œä¸šè¡¨ã€‚å½“ä½ é”®å…¥å‘½ä»¤æ—¶ï¼Œshell ä¼šç»™å®ƒåˆ†é…ä¸€ä¸ª jobID(ä¹Ÿç§°ä½œ JOB*SPEC)ã€‚ä¸€ä¸ª jobID æˆ– JOB*SPECåªæ˜¯å¾ˆå°çš„æ•´æ•°æ•°å€¼ã€‚


### #1: åˆ›å»ºä½ çš„é¦–ä¸ª Linux/Unix ä½œä¸š


æˆ‘è¦è¿è¡Œä¸€ä¸ªåä¸º xeyes çš„å‘½ä»¤ï¼Œå®ƒä¼šåœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸¤ä¸ªæ¤­åœ†çš„çœ¼ç›,è¾“å…¥ï¼š $ xeyes &


è¾“å‡ºæ ·ä¾‹ï¼š


[![](/Asserts/Images/album/201403/13/102929zi14vzpkp937d1mm.jpg)](http://www.cyberciti.biz/howto/unix-linux-job-control-command-list-for-bash-ksh-shell/attachment/run-xeyes-command-in-background/)


*Fig.01: åœ¨åå°è¿è¡Œ xeyes å‘½ä»¤*


æˆ‘ä½¿ç”¨&ç¬¦å·è®©ä¸€ä¸ª job åœ¨åå°è¿è¡Œã€‚shell ä¼šæ‰“å°ä¸€è¡Œä¿¡æ¯ç±»ä¼¼å¦‚ä¸‹:



```
[1] 6891

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ•°å­—è¾“å‡ºï¼Œåˆ†åˆ«è¡¨ç¤ºï¼š


* [1](http://www.cyberciti.biz/faq/unix-linux-jobs-command-examples-usage-syntax/) : åœ¨åå°æ‰§è¡Œçš„ xeyes ä»»åŠ¡çš„ä½œä¸šå·ä¸º 1ã€‚
* 6891 : ä½œä¸š1çš„è¿›ç¨‹IDã€‚


æˆ‘åœ¨å¤šæ‰§è¡Œä¸€äº› job:



```
## å¯åŠ¨ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒX çš„ç³»ç»Ÿè´Ÿè½½æ˜¾ç¤ºï¼Œå’Œ sleep å‘½ä»¤ ##
gedit /tmp/hello.c &
xload &
sleep 100000 &

```

### #2: åˆ—å‡ºå½“å‰çš„ä½œä¸š


è¦[æŸ¥çœ‹å½“å‰ shell çš„æ¿€æ´»çš„ä»»åŠ¡çŠ¶æ€](http://www.cyberciti.biz/faq/unix-linux-jobs-command-examples-usage-syntax/)ï¼Œè¾“å…¥ï¼š



```
$ jobs
$ jobs -l

```

è¾“å‡ºå¦‚ä¸‹:



```
[1]   9379 Running                 xeyes &
[2]   9380 Running                 gedit /tmp/hello.c &
[3]-  9420 Running                 xload &
[4]+  9421 Running                 sleep 100000 &

```

ç®€è¦æè¿°å¦‚ä¸‹ï¼š




| å­—æ®µ | å€¼ | æè¿° | ç¤ºä¾‹ |
| --- | --- | --- | --- |
| 1 | [1] | **jobID** æˆ– **JOB\_SPEC** - å·¥ä½œå·è¦ä¸fg, bg, wait, killå’Œå…¶ä»–shellå‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚ä½ å¿…é¡»åœ¨å·¥ä½œå·å‰ç¼€æ·»åŠ ä¸€ä¸ªç™¾åˆ†å·ï¼š(`**%**`)ã€‚åŠ å· (`+`) æ ‡è¯†ç€é»˜è®¤çš„æˆ–æ˜¯ç°åœ¨çš„ä½œä¸šã€‚å‡å· (`-`) æ ‡è¯†ç€å‰ä¸€ä¸ªä½œä¸šã€‚ | `%1``fg %1``kill %2` |
| 2 | 9379 | **è¿›ç¨‹ ID** - ç³»ç»Ÿè‡ªåŠ¨ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ›å»ºå¹¶åˆ†é…åœ°ç‹¬æœ‰çš„èº«ä»½æ ‡å¿—å·ã€‚ | kill 9379 |
| 3 | Running | **çŠ¶æ€** - å…³äºä½œä¸šçš„çŠ¶æ€:`**Running**` - è¯¥ ä½œä¸šæ­£åœ¨è¿è¡Œ,è¿˜æ²¡æœ‰è¢«å¤–éƒ¨ä¿¡å·æŒ‚èµ·ã€‚`**Stopped**` - è¯¥ä½œä¸šå·²ç»è¢«æŒ‚èµ·ã€‚ | N/A |
| 4 | xeyes & | **command** - ç”±shellç»™å‡ºçš„å‘½ä»¤ã€‚ | script &firefox url& |


ä½ ä¹Ÿå¯ä»¥ç”¨ ps å‘½ååˆ—å‡ºå½“å‰ç³»ç»Ÿæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹:



```
$ ps

```

### #3: åœæ­¢æˆ–æŒ‚èµ·æ­£åœ¨è¿è¡Œçš„ä½œä¸š


æŒ‰ä¸‹[Ctrl]-[Z]é”®æˆ–ä½¿ç”¨[kill å‘½ä»¤](http://www.cyberciti.biz/faq/unix-kill-command-examples/),å¦‚ä¸‹æ‰€ç¤ºï¼š



```
kill -s stop PID

```

ä¸¾ä¸ªä¾‹å­ï¼Œå¯åŠ¨[ping å‘½ä»¤](http://www.cyberciti.biz/faq/unix-ping-command-examples/)ï¼Œç„¶åç”¨ Ctrl-Z é”®æ¥åœæ­¢ ping å‘½ä»¤ä½œä¸šï¼š


[![](/Asserts/Images/album/201403/13/102931y9nquzs59x5yyy9y.gif)](http://www.cyberciti.biz/howto/unix-linux-job-control-command-list-for-bash-ksh-shell/attachment/suspend-unix-job-command/)


*Animated gif 01: æŒ‚èµ· ping å‘½ä»¤ä½œä¸š*


### #4: åœ¨å‰å°æ¢å¤ æŒ‚èµ·çš„/åœæ­¢çš„ä½œä¸š


è®©æˆ‘ä»¬[æ¢å¤å¤„äºåœæ­¢çŠ¶æ€ä¸‹çš„ä½œä¸šï¼Œè®©å®ƒå›åˆ°å‰å°ç»§ç»­è¿è¡Œ](http://www.cyberciti.biz/faq/unix-linux-fg-command-examples-usage-syntax/)ï¼Œè¦å°†å…¶å˜æˆå½“å‰ä½œä¸šï¼Œå¿…é¡»å€ŸåŠ©[fg å‘½ä»¤](http://www.cyberciti.biz/faq/unix-linux-fg-command-examples-usage-syntax/)ã€‚å…·ä½“è¯­æ³•å¦‚ä¸‹ï¼š



```
## ping å‘½ä»¤çš„ä½œä¸šå·çš„å€¼ä¸º5 ##
fg %5

```

æˆ‘ä¹Ÿå¯ä»¥è§„å®šå‘½ä»¤è¡Œå¼€ç«¯ç¬¦åˆå­—ç¬¦ä¸²"ping"çš„ä½œä¸š[è¯‘æ³¨ï¼šä¸èƒ½å‡ºç°ä¸æ˜ç¡®çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚å¦‚æœåå°æœ‰ä¸¤ä¸ª vim è¿›ç¨‹è€Œä½ æ•²å…¥ fg %vim ä¼šæŠ¥é”™ã€‚]:



```
## %String ##
fg %ping

```

è¾“å‡ºæ ·ä¾‹ï¼š



```
64 bytes from www.cyberciti.biz (75.126.153.206): icmp_req=3 ttl=53 time=265 ms
64 bytes from www.cyberciti.biz (75.126.153.206): icmp_req=4 ttl=53 time=249 ms
64 bytes from www.cyberciti.biz (75.126.153.206): icmp_req=5 ttl=53 time=267 ms
^C

```

### #5: åœ¨åå°æ¢å¤ æŒ‚èµ·/åœæ­¢çŠ¶æ€çš„ä½œä¸š


åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨[yum å‘½ä»¤](http://www.cyberciti.biz/faq/rhel-centos-fedora-linux-yum-command-howto/)æ›´æ–°æ‰€æœ‰å®‰è£…åœ¨ Redhat æˆ– CentOS Linux ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„è½¯ä»¶åŒ…å¹¶ç½®äºåå°ä½œä¸šã€‚



```
# yum -y update &>/root/patch.log &

```

ç„¶è€Œï¼Œç”±äºä¸€äº›åŸå› (ä¾‹å¦‚,è¿‡è½½é—®é¢˜)æˆ‘å†³å®šåœæ­¢è¿™ä¸ªä½œä¸š20åˆ†é’Ÿï¼š



```
# kill -s stop %yum

```

è¾“å‡ºæ ·ä¾‹ï¼š



```
[7]+  Stopped                 yum -y update &>/root/patch.log &

```

ç”¨ bg é‡å¯åœæ­¢åœ¨åå°çš„ yum è¿›ç¨‹


ç°åœ¨ï¼Œæˆ‘å°†è¦[æ¢å¤åœæ­¢çš„ yum -y update &>/root/patch.log & ä½œä¸š](http://www.cyberciti.biz/faq/unix-linux-bg-command-examples-usage-syntax/)ï¼Œé”®å…¥ï¼š



```
# bg %7

```

æˆ–è€…ï¼š



```
# bg %yum

```

è¾“å‡ºæ ·ä¾‹ï¼š



```
[7]+ yum -y update &>/root/patch.log &

```

### #6: æ€æ­»ä½œä¸š/è¿›ç¨‹


æ€æ­»[yum å‘½ä»¤](http://www.cyberciti.biz/faq/rhel-centos-fedora-linux-yum-command-howto/)è¿›ç¨‹ï¼Œè¾“å…¥å¦‚ä¸‹[kill å‘½ä»¤](http://www.cyberciti.biz/faq/unix-kill-command-examples/)åŠå…¶ä½œä¸šå· 7ï¼š



```
# kill %7

```

æˆ–è€…



```
# kill è¿›ç¨‹ID

```

è¾“å‡ºæ ·ä¾‹ï¼š



```
[7]+  Terminated              yum -y update &>/root/patch.log &

```

åœ¨ Linux/FreeBSD/OS X Unix ä¸‹ä½ ä¹Ÿå¯ä»¥[ä½¿ç”¨ killall å‘½ä»¤é€šè¿‡åå­—æ€æ­»è¿›ç¨‹æˆ–æ˜¯ jobID è€Œä¸æ˜¯é€šè¿‡ PID](http://www.cyberciti.biz/faq/unix-linux-killall-command-examples-usage-syntax/) 


### #7 ä¸ºä»€ä¹ˆå½“æˆ‘ç™»å‡ºå shell ä¼šæ¸…é™¤æˆ‘çš„æ‰€æœ‰åå°ä½œä¸š


åœ¨è¿™ä¸ªä¾‹å­ä¸­,æˆ‘å°†ä¼šå¯åŠ¨ pdfwriter.py æ¥æ‰¹é‡ç”Ÿæˆ[è¿™ä¸ªç«™ç‚¹](http://www.cyberciti.biz/faq/)çš„ pdf æ–‡ä»¶:



```
~/scripts/www/pdfwriter.py --profile=faq --type=clean --header=logo\
--footer-left "nixCraft is GIT UL++++ W+++ C++++ M+ e+++ d-" \
--footer-right "Page [of] of [total]" &

```

ä¸€æ—¦å½“æˆ‘ç™»å‡ºshellæ—¶ï¼Œpdfwriter.py ä½œä¸šå°±ä¼šè¢«æˆ‘çš„ shell æ€æ­»ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜éœ€è¦ä½¿ç”¨[shellçš„å†…ç½®å‘½ä»¤ disown æ¥å‘Šè¯‰ shell ä¸è¦å‘é€ HUP ä¿¡å·](http://www.cyberciti.biz/faq/unix-linux-disown-command-examples-usage-syntax/),é”®å…¥ï¼š



```
$ ~/scripts/www/pdfwriter.py --profile=faq .... &
$ disown
$ exit

```

### #8 ä½¿ç”¨ä¸€ä¸ªåä¸º nohup çš„å¤–éƒ¨å‘½ä»¤é˜»æ­¢åœ¨ç™»å‡ºæ—¶æ€æ­»ä½œä¸š


ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨[nohup å‘½ä»¤åœ¨ä½ é€€å‡º shell åæ‰§è¡Œä½œä¸š](http://www.cyberciti.biz/tips/nohup-execute-commands-after-you-exit-from-a-shell-prompt.html):



```
$ nohup ~/scripts/www/pdfwriter.py --profile=faq .... &
$ exit

```

### #9: æŸ¥æ‰¾æœ€åçš„ä½œä¸šçš„ PID


ä¸ºäº†æŸ¥æ‰¾æœ€è¿‘åœ¨åå°æ‰§è¡Œçš„(å¼‚æ­¥)å‘½ä»¤çš„è¿›ç¨‹IDï¼Œå¯ä½¿ç”¨ bash shell çš„ç‰¹æ®Šå‚æ•° $!



```
$ gedit foo.txt &
$ echo "æœ€è¿‘åœ¨åå°æ‰§è¡Œçš„job çš„PID - $!" 

```

è¾“å‡ºæ ·ä¾‹ï¼š



```
æœ€è¿‘åœ¨åå°æ‰§è¡Œçš„job çš„PID - 9421

```

### #10: ç­‰å€™ä½œä¸šå®Œæˆ


wait å‘½ä»¤ä¼šç­‰å€™ç»™äºˆçš„è¿›ç¨‹ID æˆ– ä½œä¸šIDæŒ‡å®šçš„è¿›ç¨‹ï¼Œç„¶åæŠ¥å‘Šå®ƒçš„ç»ˆæ­¢çŠ¶æ€ã€‚è¯­æ³•å¦‚ä¸‹ï¼š



```
/path/to/large-job/command/foo &
wait $!
/path/to/next/job/that-is-dependents/on-foo-command/bar

```

è¿™æ˜¯æˆ‘çš„ä¸€ä¸ªå·¥ä½œè„šæœ¬ï¼š



```
#!/bin/bash
# A shell script wrapper to create pdf files for our blog/faq section
########################################################################
# init() - Must be run first 
# Purpose - Create index file in $_tmp for all our wordpress databases 
########################################################################
init(){
 _php="/usr/bin/php"
 _phpargs="-d apc.enabled=0"
 _base="~/scripts"
 _tmp="$_base/tmp"
 _what="$1"
 for i in $_what
 do
        [[ ! -d "$_tmp/$i" ]] && /bin/mkdir "$_tmp/$i"
        $_php $_phpargs -f "$_base/php/rawsqlmaster${i}.php" >  "$_tmp/$i/output.txt"
 done
}

#####################################################
# Without index file, we can out generate pdf files
#####################################################
init blog

###########################################################
# Do not run the rest of the script until init() finished
###########################################################
wait $!

## Alright, create pdf files 
~/scripts/www/pdfwriter.py --profile=blog --type=clean --header=logo\
--footer-left "nixCraft is GIT UL++++ W+++ C++++ M+ e+++ d-" \
--footer-right "Page [of] of [total]"

```

#### Linux å’Œ Unix ä½œä¸šæ§åˆ¶å‘½ä»¤æ€»ç»“åˆ—è¡¨




| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
| --- | --- | --- |
| `**&**` | å°†ä½œä¸šç½®å…¥åå° | `å‘½ä»¤ &` |
| `**%n**` | è®¾ç½®ä½œä¸šå·ä¸º n (æ•°å­—)çš„ä½œä¸š | `å‘½ä»¤ %1` |
| `**%Word**` | å¼•ç”¨å‘½ä»¤è¡Œå¼€ç«¯åŒ…å« Word çš„ä½œä¸š | `å‘½ä»¤ %yum` |
| `**%?Word**` | å¼•ç”¨å‘½ä»¤è¡ŒåŒ…å« Word çš„ä½œä¸š | `å‘½ä»¤ %?ping` |
| `**%%**``**%+**` | å¼•ç”¨å½“å‰ä½œä¸š | `kill %%kill %+` |
| `**%-**` | å¼•ç”¨å…ˆå‰ä½œä¸š | `bg %-` |
| `**CTRL-Z**`**kill -s stop jobID**`` | æŒ‚èµ·æˆ–åœæ­¢ä½œä¸š | `kill -s stop %ping` |
| `**jobs**`**jobs -l**`` | åˆ—å‡ºæ´»åŠ¨çš„ä½œä¸š | `jobs -l` |
| `**bg**` | å°† ä½œä¸šç½®å…¥åå° | `bg %1bg %ping` |
| `**fg**` | å°†ä½œä¸šç½®å…¥å‰å° | `fg %2fg %apt-get` |


### å…³äº shell å†…ç½®å‘½ä»¤å’Œå¤–éƒ¨å‘½ä»¤çš„å°æ³¨


è¿è¡Œä¸‹é¢çš„ type å‘½ä»¤æ‰¾å‡ºç»™äºˆå‘½ä»¤æ˜¯å¦å±äºå†…éƒ¨æˆ–å¤–éƒ¨çš„ã€‚



```
type -a fg bg jobs disown

```

è¾“å‡ºæ ·å¼ï¼š



```
fg is a shell builtin
fg is /usr/bin/fg
bg is a shell builtin
bg is /usr/bin/bg
jobs is a shell builtin
jobs is /usr/bin/jobs
disown is a shell builtin

```

åœ¨å‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œä½ éƒ½éœ€è¦ä½¿ç”¨ shell çš„å†…ç½®å‘½ä»¤ã€‚æ‰€æœ‰å¤–éƒ¨å‘½ä»¤ä¾‹å¦‚ /usr/bin/fg æˆ– /usr/bin/jobs å·¥ä½œåœ¨ä¸€ä¸ªä¸åŒçš„ shell ç¯å¢ƒä¸‹ï¼Œè€Œä¸èƒ½ç”¨åœ¨çˆ¶ shell çš„ç¯å¢ƒä¸‹ã€‚


### æ€»ç»“


æˆ‘å¸Œæœ›ä½ èƒ½å–œæ¬¢è¿™ç¯‡åšæ–‡ç³»åˆ—([rss è®¢é˜…](http://www.cyberciti.biz/tutorials/practical-unixlinux-series/feed/)),æˆ‘å»ºè®®ä½ é˜…è¯»ä¸‹é¢çš„æ›´å¤šä¿¡æ¯ï¼š


* åœ¨æˆ‘ä»¬çš„ faq ç« èŠ‚æŸ¥é˜…æœ‰å…³è¿›ç¨‹ç®¡ç†çš„æ–‡ç« [disoen å‘½ä»¤ç¤ºä¾‹](http://www.cyberciti.biz/faq/unix-linux-disown-command-examples-usage-syntax/)ï¼Œ[jobs å‘½ä»¤ç¤ºä¾‹](http://www.cyberciti.biz/faq/unix-linux-jobs-command-examples-usage-syntax/)ï¼Œ[bg å‘½ä»¤ç¤ºä¾‹](http://www.cyberciti.biz/faq/unix-linux-bg-command-examples-usage-syntax/)ï¼Œå’Œ[fg å‘½ä»¤ç¤ºä¾‹](http://www.cyberciti.biz/faq/unix-linux-fg-command-examples-usage-syntax/)ã€‚
* Man pages [bash(1)](http://www.manpager.com/linux/man1/bash.1.html), [ksh(1)](http://www.manpager.com/linux/man1/ksh.1.html), [ps(1)](http://www.manpager.com/linux/man1/ps.1.html), [kill(1)](http://www.manpager.com/linux/man1/kill.1.html)
* [Korn shell (ksh93) æ–‡æ¡£](http://www2.research.att.com/sw/download/man/man1/ksh.html).
* [NU bash shell æ–‡æ¡£](https://www.gnu.org/software/bash/manual/bashref.html).


æˆ‘ä¼šè®¡åˆ’åœ¨è¿™ä¸ªç³»åˆ—æ·»åŠ æ›´å¤šæ·±å…¥çš„æ•™ç¨‹ã€‚è‹¥æœä½ éœ€è¦çœ‹åˆ°å…·ä½“çš„ä¸»é¢˜ï¼Œè¯·åœ¨ä¸‹æ–¹è¯„è®ºè®©æˆ‘çŸ¥é“ã€‚




---


via: <http://www.cyberciti.biz/howto/unix-linux-job-control-command-examples-for-bash-ksh-shell/>


è¯‘è€…ï¼š[Luoxcat](https://github.com/Luoxcat) æ ¡å¯¹ï¼š[wxy](https://github.com/wxy)


æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¿»è¯‘ï¼Œ[Linuxä¸­å›½](http://linux.cn/) è£èª‰æ¨å‡º
